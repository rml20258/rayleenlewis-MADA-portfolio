<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>CDC Data Exercise – Rayleen Lewis’s Data Analysis Portfolio</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Rayleen Lewis’s Data Analysis Portfolio</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../aboutme.html"> 
<span class="menu-text">About Me</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-projects" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Projects</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-projects">    
        <li>
    <a class="dropdown-item" href="../starter-analysis-exercise/products/report/starter-analysis-report.html">
 <span class="dropdown-text">Starter Analysis Exercise</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../coding-exercise/coding-exercise.html">
 <span class="dropdown-text">R Coding Exercise</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../data-exercise/data-exercise.html">
 <span class="dropdown-text">Data exercise</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../cdcdata-exercise/cdcdata-exercise.html">
 <span class="dropdown-text">CDC data exercise</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../presentation-exercise/presentation-exercise.html">
 <span class="dropdown-text">Presentation exercise</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../fitting-exercise/fitting-exercise.html">
 <span class="dropdown-text">Fitting exercise</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../ml-models-exercise/ml-models-exercise.html">
 <span class="dropdown-text">Machine Learning</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/rml20258/rayleenlewis-MADA-portfolio"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">CDC Data Exercise</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="data-description" class="level2">
<h2 class="anchored" data-anchor-id="data-description">Data description</h2>
<p>I’ll be exploring COVID serologic data. This data set includes serologic results from a CDC assay as well as several commercial assays. The data can be found on the <a href="https://data.cdc.gov/Coronavirus-and-Other-Respiratory-Viruses/Examination-of-SARS-CoV-2-serological-test-results/hhvg-83jq/about_data">CDC’s data website</a>. In addition to seroreactivity (yes/no) and titers, the dataset also includes information from PCR results, a marker for current COVID infection.</p>
<section id="data-import" class="level4">
<h4 class="anchored" data-anchor-id="data-import">Data import</h4>
<p>First, I import the data and check the level of missingness for each variable.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Reading in the CSV</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>covid <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Examination_of_SARS-CoV-2_serological_test_results_from_multiple_commercial_and_laboratory_platforms_with_an_in-house_serum_panel_20250325.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 204 Columns: 14
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (4): PCR confirmed, Abbott Reactivity, Ortho Reactivity, In-House CDC E...
dbl (10): Sample #, Abbott S/C Values, Abbott S/C Values (Log10), Ortho Inde...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Getting an idea of what's in the data set</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(covid)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>spc_tbl_ [204 × 14] (S3: spec_tbl_df/tbl_df/tbl/data.frame)
 $ Sample #                             : num [1:204] 1 2 3 4 5 6 7 8 9 10 ...
 $ PCR confirmed                        : chr [1:204] "Pos" "Pos" "Pos" "Pos" ...
 $ Abbott Reactivity                    : chr [1:204] "Reactive" "Reactive" "Reactive" "Reactive" ...
 $ Ortho Reactivity                     : chr [1:204] "Reactive" "Reactive" "Reactive" "Reactive" ...
 $ In-House CDC ELISA Reactivity        : chr [1:204] "Reactive" "Reactive" "Reactive" "Reactive" ...
 $ Abbott S/C Values                    : num [1:204] 3.48 5.08 6.86 3.91 5.16 1.61 6.44 6.79 6.9 2.65 ...
 $ Abbott S/C Values (Log10)            : num [1:204] 0.542 0.706 0.836 0.592 0.713 ...
 $ Ortho Index Values                   : num [1:204] 10.1 289 354 51.1 242 26.3 129 74.3 123 106 ...
 $ Ortho Index Values (Log10)           : num [1:204] 1 2.46 2.55 1.71 2.38 ...
 $ In-House CDC ELISA S/T Values        : num [1:204] 1.3 3.31 3.46 2.75 3.18 ...
 $ In-House CDC ELISA S/T Values (Log10): num [1:204] 0.114 0.52 0.539 0.44 0.502 ...
 $ mNT TITER                            : num [1:204] 18 233 2198 27 524 ...
 $ mNT TITER (Log10)                    : num [1:204] 1.26 2.37 3.34 1.43 2.72 ...
 $ sVNT % Inhibition                    : num [1:204] 0.4 0.81 0.95 0.56 0.8 0.41 0.72 0.72 0.78 0.77 ...
 - attr(*, "spec")=
  .. cols(
  ..   `Sample #` = col_double(),
  ..   `PCR confirmed` = col_character(),
  ..   `Abbott Reactivity` = col_character(),
  ..   `Ortho Reactivity` = col_character(),
  ..   `In-House CDC ELISA Reactivity` = col_character(),
  ..   `Abbott S/C Values` = col_double(),
  ..   `Abbott S/C Values (Log10)` = col_double(),
  ..   `Ortho Index Values` = col_double(),
  ..   `Ortho Index Values (Log10)` = col_double(),
  ..   `In-House CDC ELISA S/T Values` = col_double(),
  ..   `In-House CDC ELISA S/T Values (Log10)` = col_double(),
  ..   `mNT TITER` = col_double(),
  ..   `mNT TITER (Log10)` = col_double(),
  ..   `sVNT % Inhibition` = col_double()
  .. )
 - attr(*, "problems")=&lt;externalptr&gt; </code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(covid)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 204
Columns: 14
$ `Sample #`                              &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,…
$ `PCR confirmed`                         &lt;chr&gt; "Pos", "Pos", "Pos", "Pos", "P…
$ `Abbott Reactivity`                     &lt;chr&gt; "Reactive", "Reactive", "React…
$ `Ortho Reactivity`                      &lt;chr&gt; "Reactive", "Reactive", "React…
$ `In-House CDC ELISA Reactivity`         &lt;chr&gt; "Reactive", "Reactive", "React…
$ `Abbott S/C Values`                     &lt;dbl&gt; 3.48, 5.08, 6.86, 3.91, 5.16, …
$ `Abbott S/C Values (Log10)`             &lt;dbl&gt; 0.5416, 0.7059, 0.8363, 0.5922…
$ `Ortho Index Values`                    &lt;dbl&gt; 10.10, 289.00, 354.00, 51.10, …
$ `Ortho Index Values (Log10)`            &lt;dbl&gt; 1.0043, 2.4609, 2.5490, 1.7084…
$ `In-House CDC ELISA S/T Values`         &lt;dbl&gt; 1.2992, 3.3092, 3.4608, 2.7525…
$ `In-House CDC ELISA S/T Values (Log10)` &lt;dbl&gt; 0.1137, 0.5197, 0.5392, 0.4397…
$ `mNT TITER`                             &lt;dbl&gt; 18, 233, 2198, 27, 524, 57, 38…
$ `mNT TITER (Log10)`                     &lt;dbl&gt; 1.2553, 2.3674, 3.3420, 1.4314…
$ `sVNT % Inhibition`                     &lt;dbl&gt; 0.40, 0.81, 0.95, 0.56, 0.80, …</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Based on this summary, there don't seem to be any weird values</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(covid)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    Sample #      PCR confirmed      Abbott Reactivity  Ortho Reactivity  
 Min.   :  1.00   Length:204         Length:204         Length:204        
 1st Qu.: 51.75   Class :character   Class :character   Class :character  
 Median :102.50   Mode  :character   Mode  :character   Mode  :character  
 Mean   :102.50                                                           
 3rd Qu.:153.25                                                           
 Max.   :204.00                                                           
 In-House CDC ELISA Reactivity Abbott S/C Values Abbott S/C Values (Log10)
 Length:204                    Min.   :0.020     Min.   :-1.6990          
 Class :character              1st Qu.:0.150     1st Qu.:-0.8239          
 Mode  :character              Median :0.385     Median :-0.4145          
                               Mean   :2.170     Mean   :-0.1819          
                               3rd Qu.:4.468     3rd Qu.: 0.6500          
                               Max.   :7.940     Max.   : 0.8998          
 Ortho Index Values Ortho Index Values (Log10) In-House CDC ELISA S/T Values
 Min.   :  0.01     Min.   :-2.0000            Min.   :0.0375               
 1st Qu.:  0.02     1st Qu.:-1.6990            1st Qu.:0.1536               
 Median :  0.03     Median :-1.5229            Median :0.5433               
 Mean   : 65.09     Mean   :-0.1801            Mean   :1.4444               
 3rd Qu.: 74.38     3rd Qu.: 1.8714            3rd Qu.:3.1919               
 Max.   :660.00     Max.   : 2.8195            Max.   :3.9192               
 In-House CDC ELISA S/T Values (Log10)   mNT TITER      mNT TITER (Log10)
 Min.   :-1.4260                       Min.   :  10.0   Min.   :1.000    
 1st Qu.:-0.8137                       1st Qu.:  10.0   1st Qu.:1.000    
 Median :-0.2650                       Median :  10.0   Median :1.000    
 Mean   :-0.2231                       Mean   : 352.7   Mean   :1.625    
 3rd Qu.: 0.5040                       3rd Qu.: 277.8   3rd Qu.:2.443    
 Max.   : 0.5932                       Max.   :5954.0   Max.   :3.775    
 sVNT % Inhibition
 Min.   :0.0000   
 1st Qu.:0.1700   
 Median :0.2800   
 Mean   :0.3993   
 3rd Qu.:0.6925   
 Max.   :0.9600   </code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co">#There are no missing values</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">gg_miss_var</span>(covid)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="cdcdata-exercise_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>I also am choosing to restrict the dataset to variables with information on PCR status, the CDC in-house assay, and the commercial assay from Abbott. There are also variables for both the titer and the log 10 of the titer. Since this information is redundant, I only kept the log transformed variables as these more closely resemble a normal distribution.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Restricting data to variables PCR status, the CDC in-house assay, and the commercial assay from Abbott</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>covid_mini <span class="ot">&lt;-</span> covid <span class="sc">%&gt;%</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">c</span>(<span class="st">'PCR confirmed'</span>,<span class="st">'Abbott Reactivity'</span>,<span class="st">'In-House CDC ELISA Reactivity'</span>,<span class="st">'Abbott S/C Values (Log10)'</span>, <span class="st">'In-House CDC ELISA S/T Values (Log10)'</span>))</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="co">#Confirming reduction</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(covid_mini)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [204 × 5] (S3: tbl_df/tbl/data.frame)
 $ PCR confirmed                        : chr [1:204] "Pos" "Pos" "Pos" "Pos" ...
 $ Abbott Reactivity                    : chr [1:204] "Reactive" "Reactive" "Reactive" "Reactive" ...
 $ In-House CDC ELISA Reactivity        : chr [1:204] "Reactive" "Reactive" "Reactive" "Reactive" ...
 $ Abbott S/C Values (Log10)            : num [1:204] 0.542 0.706 0.836 0.592 0.713 ...
 $ In-House CDC ELISA S/T Values (Log10): num [1:204] 0.114 0.52 0.539 0.44 0.502 ...</code></pre>
</div>
</div>
</section>
</section>
<section id="exploratory-tables---categorical-variables" class="level2">
<h2 class="anchored" data-anchor-id="exploratory-tables---categorical-variables">Exploratory tables - categorical variables</h2>
<p>Next, I chose to look at the categorical variables in the dataset: PCR status, Abbott Reactivity, In-House CDC ELISA Reactivity. These tables show the total sample size (N), count (CNT), and percent (PCT) of each category. I also did a crosstab of each of the categorical variables with each other.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Frequency of PCR status</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">proc_freq</span>(<span class="at">data =</span> covid_mini, <span class="at">tables =</span> <span class="st">`</span><span class="at">PCR confirmed</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 5
  VAR           CAT       N   CNT   PCT
  &lt;chr&gt;         &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1 PCR confirmed Neg     204   117  57.4
2 PCR confirmed Pos     204    87  42.6</code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Frequency of Abbott Reactivity</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">proc_freq</span>(<span class="at">data =</span> covid_mini, <span class="at">tables =</span> <span class="st">`</span><span class="at">Abbott Reactivity</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 5
  VAR               CAT              N   CNT   PCT
  &lt;chr&gt;             &lt;chr&gt;        &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1 Abbott Reactivity Non-reactive   204   120  58.8
2 Abbott Reactivity Reactive       204    84  41.2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Frequency of In-House CDC ELISA Reactivity</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="fu">proc_freq</span>(<span class="at">data =</span> covid_mini, <span class="at">tables =</span> <span class="st">`</span><span class="at">In-House CDC ELISA Reactivity</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 5
  VAR                           CAT              N   CNT   PCT
  &lt;chr&gt;                         &lt;chr&gt;        &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1 In-House CDC ELISA Reactivity Non-reactive   204   118  57.8
2 In-House CDC ELISA Reactivity Reactive       204    86  42.2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co">#The proc means function was struggling with the names of the variables, so I created new variables for each of the categorical variables with shorter names</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>renames <span class="ot">&lt;-</span> covid_mini <span class="sc">%&gt;%</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pcr =</span> <span class="st">`</span><span class="at">PCR confirmed</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">cdc =</span> <span class="st">`</span><span class="at">In-House CDC ELISA Reactivity</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">abbott =</span> <span class="st">`</span><span class="at">Abbott Reactivity</span><span class="st">`</span>)</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a><span class="co">#Cross tab of each of the categorical variables</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a><span class="fu">proc_freq</span>(<span class="at">data =</span> renames, <span class="at">tables =</span> <span class="fu">v</span>(pcr <span class="sc">*</span> cdc, pcr <span class="sc">*</span> abbott, cdc <span class="sc">*</span> abbott))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$`pcr * cdc`
# A tibble: 4 × 7
  VAR1  VAR2  CAT1  CAT2             N   CNT    PCT
  &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;        &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;
1 pcr   cdc   Neg   Non-reactive   204   115 56.4  
2 pcr   cdc   Neg   Reactive       204     2  0.980
3 pcr   cdc   Pos   Non-reactive   204     3  1.47 
4 pcr   cdc   Pos   Reactive       204    84 41.2  

$`pcr * abbott`
# A tibble: 4 × 7
  VAR1  VAR2   CAT1  CAT2             N   CNT    PCT
  &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;        &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;
1 pcr   abbott Neg   Non-reactive   204   116 56.9  
2 pcr   abbott Neg   Reactive       204     1  0.490
3 pcr   abbott Pos   Non-reactive   204     4  1.96 
4 pcr   abbott Pos   Reactive       204    83 40.7  

$`cdc * abbott`
# A tibble: 4 × 7
  VAR1  VAR2   CAT1         CAT2             N   CNT    PCT
  &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;        &lt;chr&gt;        &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;
1 cdc   abbott Non-reactive Non-reactive   204   117 57.4  
2 cdc   abbott Non-reactive Reactive       204     1  0.490
3 cdc   abbott Reactive     Non-reactive   204     3  1.47 
4 cdc   abbott Reactive     Reactive       204    83 40.7  </code></pre>
</div>
</div>
</section>
<section id="exploratory-anaylses---continuous-variables" class="level2">
<h2 class="anchored" data-anchor-id="exploratory-anaylses---continuous-variables">Exploratory anaylses - continuous variables</h2>
<p>Next, I looked at the distribution of the continous variables: Abbott S/C Values (Log10), In-House CDC ELISA S/T Values (Log10).</p>
<p>For each variable, I created a table that includes the sample size, mean, standard deviation, min, and max and a histogram of the values. Because there appeared to be a bimodal distribution, I performed these steps by seroreactivity status for the relevant assay. I also assessed the distribution of each log titer (from Abbott and CDC) by PCR status.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Producing a table showing the sample size, mean, standard deviation, min, and max for each continuous variable</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="co">#Also creating a figure of each variable</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="co">#Overall stats - Abbott</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="fu">proc_means</span>(<span class="at">data =</span> covid_mini, <span class="st">`</span><span class="at">Abbott S/C Values (Log10)</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 8
   TYPE  FREQ VAR                           N   MEAN   STD   MIN   MAX
  &lt;dbl&gt; &lt;int&gt; &lt;chr&gt;                     &lt;int&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1     0   204 Abbott S/C Values (Log10)   204 -0.182 0.761 -1.70 0.900</code></pre>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Stats by seroreactivity status - Abbott</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">proc_means</span>(<span class="at">data =</span> covid_mini, <span class="st">`</span><span class="at">Abbott S/C Values (Log10)</span><span class="st">`</span>, <span class="at">by =</span> <span class="st">`</span><span class="at">Abbott Reactivity</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 9
  BY            TYPE  FREQ VAR                       N   MEAN   STD    MIN   MAX
  &lt;chr&gt;        &lt;dbl&gt; &lt;int&gt; &lt;chr&gt;                 &lt;int&gt;  &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;
1 Non-reactive     0   120 Abbott S/C Values (L…   120 -0.775 0.325 -1.70  0.134
2 Reactive         0    84 Abbott S/C Values (L…    84  0.665 0.175  0.164 0.900</code></pre>
</div>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(covid_mini, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">Abbott S/C Values (Log10)</span><span class="st">`</span>, <span class="at">fill =</span> <span class="st">`</span><span class="at">Abbott Reactivity</span><span class="st">`</span>, <span class="at">color =</span> <span class="st">`</span><span class="at">Abbott Reactivity</span><span class="st">`</span>)) <span class="sc">+</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">y =</span> ..density..), <span class="at">bins =</span> <span class="dv">50</span>) <span class="sc">+</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Non-reactive"</span> <span class="ot">=</span> <span class="st">"maroon"</span>, <span class="st">"Reactive"</span> <span class="ot">=</span> <span class="st">"black"</span>)) <span class="sc">+</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Histogram with Kernel Density Overlay"</span>,</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Value"</span>,</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Density"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: The dot-dot notation (`..density..`) was deprecated in ggplot2 3.4.0.
ℹ Please use `after_stat(density)` instead.</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="cdcdata-exercise_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Overall stats - CDC</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="fu">proc_means</span>(<span class="at">data =</span> covid_mini, <span class="st">`</span><span class="at">In-House CDC ELISA S/T Values (Log10)</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 8
   TYPE  FREQ VAR                                     N   MEAN   STD   MIN   MAX
  &lt;dbl&gt; &lt;int&gt; &lt;chr&gt;                               &lt;int&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1     0   204 In-House CDC ELISA S/T Values (Log…   204 -0.223 0.648 -1.43 0.593</code></pre>
</div>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Stats by seroreactivity status - CDC</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="fu">proc_means</span>(<span class="at">data =</span> covid_mini, <span class="st">`</span><span class="at">In-House CDC ELISA S/T Values (Log10)</span><span class="st">`</span>, <span class="at">by =</span> <span class="st">`</span><span class="at">In-House CDC ELISA Reactivity</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 9
  BY            TYPE  FREQ VAR                    N   MEAN   STD     MIN     MAX
  &lt;chr&gt;        &lt;dbl&gt; &lt;int&gt; &lt;chr&gt;              &lt;int&gt;  &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
1 Non-reactive     0   118 In-House CDC ELIS…   118 -0.733 0.310 -1.43   -0.0158
2 Reactive         0    86 In-House CDC ELIS…    86  0.476 0.124  0.0086  0.593 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(covid_mini, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">In-House CDC ELISA S/T Values (Log10)</span><span class="st">`</span>, <span class="at">fill =</span> <span class="st">`</span><span class="at">In-House CDC ELISA Reactivity</span><span class="st">`</span>, <span class="at">color =</span> <span class="st">`</span><span class="at">In-House CDC ELISA Reactivity</span><span class="st">`</span>)) <span class="sc">+</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">y =</span> ..density..), <span class="at">bins =</span> <span class="dv">50</span>) <span class="sc">+</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Non-reactive"</span> <span class="ot">=</span> <span class="st">"maroon"</span>, <span class="st">"Reactive"</span> <span class="ot">=</span> <span class="st">"black"</span>)) <span class="sc">+</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Histogram with Kernel Density Overlay"</span>,</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Value"</span>,</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Density"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="cdcdata-exercise_files/figure-html/unnamed-chunk-5-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Distribution of log titers by PCR status</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="co">#Abbott</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="co">#Stats by seroreactivity status - Abbott</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="fu">proc_means</span>(<span class="at">data =</span> covid_mini, <span class="st">`</span><span class="at">Abbott S/C Values (Log10)</span><span class="st">`</span>, <span class="at">by =</span> <span class="st">`</span><span class="at">PCR confirmed</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 9
  BY     TYPE  FREQ VAR                           N   MEAN   STD   MIN   MAX
  &lt;chr&gt; &lt;dbl&gt; &lt;int&gt; &lt;chr&gt;                     &lt;int&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1 Neg       0   117 Abbott S/C Values (Log10)   117 -0.767 0.332 -1.70 0.238
2 Pos       0    87 Abbott S/C Values (Log10)    87  0.605 0.355 -1.30 0.900</code></pre>
</div>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(covid_mini, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">Abbott S/C Values (Log10)</span><span class="st">`</span>, <span class="at">fill =</span> <span class="st">`</span><span class="at">PCR confirmed</span><span class="st">`</span>, <span class="at">color =</span> <span class="st">`</span><span class="at">PCR confirmed</span><span class="st">`</span>)) <span class="sc">+</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">y =</span> ..density..), <span class="at">bins =</span> <span class="dv">50</span>) <span class="sc">+</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Neg"</span> <span class="ot">=</span> <span class="st">"maroon"</span>, <span class="st">"Pos"</span> <span class="ot">=</span> <span class="st">"black"</span>)) <span class="sc">+</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Histogram with Kernel Density Overlay"</span>,</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Value"</span>,</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Density"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="cdcdata-exercise_files/figure-html/unnamed-chunk-5-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co">#CDC</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="fu">proc_means</span>(<span class="at">data =</span> covid_mini, <span class="st">`</span><span class="at">In-House CDC ELISA S/T Values (Log10)</span><span class="st">`</span>, <span class="at">by =</span> <span class="st">`</span><span class="at">PCR confirmed</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 9
  BY     TYPE  FREQ VAR                              N   MEAN   STD   MIN    MAX
  &lt;chr&gt; &lt;dbl&gt; &lt;int&gt; &lt;chr&gt;                        &lt;int&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;
1 Neg       0   117 In-House CDC ELISA S/T Valu…   117 -0.711 0.321 -1.43 0.0153
2 Pos       0    87 In-House CDC ELISA S/T Valu…    87  0.433 0.305 -1.23 0.593 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(covid_mini, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">In-House CDC ELISA S/T Values (Log10)</span><span class="st">`</span>, <span class="at">fill =</span> <span class="st">`</span><span class="at">PCR confirmed</span><span class="st">`</span>, <span class="at">color =</span> <span class="st">`</span><span class="at">PCR confirmed</span><span class="st">`</span>)) <span class="sc">+</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">y =</span> ..density..), <span class="at">bins =</span> <span class="dv">50</span>) <span class="sc">+</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Neg"</span> <span class="ot">=</span> <span class="st">"maroon"</span>, <span class="st">"Pos"</span> <span class="ot">=</span> <span class="st">"black"</span>)) <span class="sc">+</span></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Histogram with Kernel Density Overlay"</span>,</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Value"</span>,</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Density"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="cdcdata-exercise_files/figure-html/unnamed-chunk-5-4.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="part-two-generating-synthetic-data" class="level1">
<h1>Part Two: Generating Synthetic Data</h1>
<p>This section was contributed by Natalie Cann.</p>
<section id="loading-packages" class="level2">
<h2 class="anchored" data-anchor-id="loading-packages">Loading Packages</h2>
<p>I will first load packages that will be of use in this exercise.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load packages</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(purrr)</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>here() starts at /Users/rayleenlewis/Desktop/MADA-Mac-local/rayleenlewis-MADA-portfolio</code></pre>
</div>
</div>
</section>
<section id="assessing-correlations-from-the-original-dataset" class="level2">
<h2 class="anchored" data-anchor-id="assessing-correlations-from-the-original-dataset">Assessing Correlations from the Original Dataset</h2>
<p>I will create a correlation matrix to visualize the relationships between the variables in the original dataset.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Using numerical values for the categorical variables</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>covid_numeric <span class="ot">&lt;-</span> covid_mini <span class="sc">%&gt;%</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">pcr =</span> <span class="fu">ifelse</span>(<span class="st">`</span><span class="at">PCR confirmed</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Pos"</span>, <span class="dv">1</span>, <span class="dv">0</span>),</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">abbott =</span> <span class="fu">ifelse</span>(<span class="st">`</span><span class="at">Abbott Reactivity</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Reactive"</span>, <span class="dv">1</span>, <span class="dv">0</span>),</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">cdc =</span> <span class="fu">ifelse</span>(<span class="st">`</span><span class="at">In-House CDC ELISA Reactivity</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Reactive"</span>, <span class="dv">1</span>, <span class="dv">0</span>)</span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(pcr, abbott, cdc)</span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute correlation matrix</span></span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a>cor_matrix <span class="ot">&lt;-</span> <span class="fu">cor</span>(covid_numeric, <span class="at">method =</span> <span class="st">"pearson"</span>)  </span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cor_matrix)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>             pcr    abbott       cdc
pcr    1.0000000 0.9501076 0.9498707
abbott 0.9501076 1.0000000 0.9598630
cdc    0.9498707 0.9598630 1.0000000</code></pre>
</div>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualize correlation matrix</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a><span class="fu">corrplot</span>(cor_matrix, <span class="at">method =</span> <span class="st">"color"</span>, <span class="at">col =</span> <span class="fu">colorRampPalette</span>(<span class="fu">c</span>(<span class="st">"red"</span>, <span class="st">"white"</span>, <span class="st">"blue"</span>))(<span class="dv">200</span>),</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">addCoef.col =</span> <span class="st">"black"</span>, <span class="at">tl.col =</span> <span class="st">"black"</span>, <span class="at">tl.cex =</span> <span class="dv">1</span>, <span class="at">number.cex =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="cdcdata-exercise_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The correlation matrix above displays very strong associations between the variables. The correlations between pcr and pcr, abbott and abbott, as well as cdc and cdc are all 1. This is expected as there should be a 100% match when a variable is compared to itself. The correlation between pcr and abbott is 0.95; the correlation between pcr and cdc is 0.95; the correlation between abbot and cdc is 0.96. These high correlation coefficients suggest that the variables are highly associated with each other. I aim to ensure that the correlations between these variables are similar within the synthetic dataset.</p>
</section>
<section id="summary-statistics" class="level2">
<h2 class="anchored" data-anchor-id="summary-statistics">Summary Statistics</h2>
<p>I will run a summary line and count lines to obtain information on means and standards that will help me to create the synthetic dataset.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(covid_mini)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> PCR confirmed      Abbott Reactivity  In-House CDC ELISA Reactivity
 Length:204         Length:204         Length:204                   
 Class :character   Class :character   Class :character             
 Mode  :character   Mode  :character   Mode  :character             
                                                                    
                                                                    
                                                                    
 Abbott S/C Values (Log10) In-House CDC ELISA S/T Values (Log10)
 Min.   :-1.6990           Min.   :-1.4260                      
 1st Qu.:-0.8239           1st Qu.:-0.8137                      
 Median :-0.4145           Median :-0.2650                      
 Mean   :-0.1819           Mean   :-0.2231                      
 3rd Qu.: 0.6500           3rd Qu.: 0.5040                      
 Max.   : 0.8998           Max.   : 0.5932                      </code></pre>
</div>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(covid_mini<span class="sc">$</span><span class="st">`</span><span class="at">Abbott S/C Values (Log10)</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -0.1818809</code></pre>
</div>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(covid_mini<span class="sc">$</span><span class="st">`</span><span class="at">Abbott S/C Values (Log10)</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.76081</code></pre>
</div>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(covid_mini<span class="sc">$</span><span class="st">`</span><span class="at">In-House CDC ELISA S/T Values (Log10)</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -0.2230569</code></pre>
</div>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(covid_mini<span class="sc">$</span><span class="st">`</span><span class="at">In-House CDC ELISA S/T Values (Log10)</span><span class="st">`</span>)  <span class="co"># Fixed closing parenthesis</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.648161</code></pre>
</div>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>covid_mini <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="st">`</span><span class="at">PCR confirmed</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Pos"</span>) <span class="sc">%&gt;%</span> <span class="fu">count</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
      n
  &lt;int&gt;
1    87</code></pre>
</div>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>covid_mini <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="st">`</span><span class="at">Abbott Reactivity</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Reactive"</span>) <span class="sc">%&gt;%</span> <span class="fu">count</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
      n
  &lt;int&gt;
1    84</code></pre>
</div>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>covid_mini <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="st">`</span><span class="at">In-House CDC ELISA Reactivity</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Reactive"</span>) <span class="sc">%&gt;%</span> <span class="fu">count</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
      n
  &lt;int&gt;
1    86</code></pre>
</div>
</div>
<p>I will now calculate the mean and standard deviation of the log-transformed variables. I will calculate the mean and standard deviation for both the reactive and non-reactive groups.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(covid_mini<span class="sc">$</span><span class="st">`</span><span class="at">Abbott S/C Values (Log10)</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -0.1818809</code></pre>
</div>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(covid_mini<span class="sc">$</span><span class="st">`</span><span class="at">Abbott S/C Values (Log10)</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Reactive"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(covid_mini<span class="sc">$</span><span class="st">`</span><span class="at">Abbott S/C Values (Log10)</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Non-reactive"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(covid_mini<span class="sc">$</span><span class="st">`</span><span class="at">Abbott S/C Values (Log10)</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.76081</code></pre>
</div>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(covid_mini<span class="sc">$</span><span class="st">`</span><span class="at">In-House CDC ELISA S/T Values (Log10)</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -0.2230569</code></pre>
</div>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(covid_mini<span class="sc">$</span><span class="st">`</span><span class="at">In-House CDC ELISA S/T Values (Log10)</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Reactive"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(covid_mini<span class="sc">$</span><span class="st">`</span><span class="at">In-House CDC ELISA S/T Values (Log10)</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Non-reactive"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(covid_mini<span class="sc">$</span><span class="st">`</span><span class="at">In-House CDC ELISA S/T Values (Log10)</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.648161</code></pre>
</div>
</div>
<p>I will now calculate the mean and standard deviation of Abott S/C Values (Log10) for when abbott reactivity is equal to reactive and then non-reactive.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Mean of Abbott S/C Values (Log10) for "Reactive" Abbott Reactivity</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>mean_reactive_abbott <span class="ot">&lt;-</span> <span class="fu">mean</span>(covid_mini<span class="sc">$</span><span class="st">`</span><span class="at">Abbott S/C Values (Log10)</span><span class="st">`</span>[covid_mini<span class="sc">$</span><span class="st">`</span><span class="at">Abbott Reactivity</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Reactive"</span>])</span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Mean of Abbott S/C Values (Log10) for "Non-reactive" Abbott Reactivity</span></span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a>mean_non_reactive_abbott <span class="ot">&lt;-</span> <span class="fu">mean</span>(covid_mini<span class="sc">$</span><span class="st">`</span><span class="at">Abbott S/C Values (Log10)</span><span class="st">`</span>[covid_mini<span class="sc">$</span><span class="st">`</span><span class="at">Abbott Reactivity</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Non-reactive"</span>])</span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-7"><a href="#cb74-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Output the results</span></span>
<span id="cb74-8"><a href="#cb74-8" aria-hidden="true" tabindex="-1"></a>mean_reactive_abbott</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.6649786</code></pre>
</div>
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>mean_non_reactive_abbott</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -0.7746825</code></pre>
</div>
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="co"># sd of Abbott S/C Values (Log10) for "Reactive" Abbott Reactivity</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>sd_reactive_abbott <span class="ot">&lt;-</span> <span class="fu">sd</span>(covid_mini<span class="sc">$</span><span class="st">`</span><span class="at">Abbott S/C Values (Log10)</span><span class="st">`</span>[covid_mini<span class="sc">$</span><span class="st">`</span><span class="at">Abbott Reactivity</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Reactive"</span>])</span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a><span class="co"># sd of Abbott S/C Values (Log10) for "Non-reactive" Abbott Reactivity</span></span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a>sd_non_reactive_abbott <span class="ot">&lt;-</span> <span class="fu">sd</span>(covid_mini<span class="sc">$</span><span class="st">`</span><span class="at">Abbott S/C Values (Log10)</span><span class="st">`</span>[covid_mini<span class="sc">$</span><span class="st">`</span><span class="at">Abbott Reactivity</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Non-reactive"</span>])</span>
<span id="cb78-6"><a href="#cb78-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-7"><a href="#cb78-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Output the results</span></span>
<span id="cb78-8"><a href="#cb78-8" aria-hidden="true" tabindex="-1"></a>sd_reactive_abbott</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.1746322</code></pre>
</div>
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>sd_non_reactive_abbott</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.3248742</code></pre>
</div>
</div>
<p>I will now calculate the mean and standard deviation of In-House CDC ELISA S/T Values (Log10) for when In-House CDC ELISA Reactivity is equal to reactive and then non-reactive.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Mean of In-House CDC ELISA S/T Values (Log10) for "Reactive" In-House CDC ELISA Reactivity</span></span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a>mean_reactive_cdc <span class="ot">&lt;-</span> <span class="fu">mean</span>(covid_mini<span class="sc">$</span><span class="st">`</span><span class="at">In-House CDC ELISA S/T Values (Log10)</span><span class="st">`</span>[covid_mini<span class="sc">$</span><span class="st">`</span><span class="at">In-House CDC ELISA Reactivity</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Reactive"</span>])</span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Mean of In-House CDC ELISA S/T Values (Log10) for "Non-reactive" In-House CDC ELISA Reactivity</span></span>
<span id="cb82-5"><a href="#cb82-5" aria-hidden="true" tabindex="-1"></a>mean_non_reactive_cdc <span class="ot">&lt;-</span> <span class="fu">mean</span>(covid_mini<span class="sc">$</span><span class="st">`</span><span class="at">In-House CDC ELISA S/T Values (Log10)</span><span class="st">`</span>[covid_mini<span class="sc">$</span><span class="st">`</span><span class="at">In-House CDC ELISA Reactivity</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Non-reactive"</span>])</span>
<span id="cb82-6"><a href="#cb82-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-7"><a href="#cb82-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Output the results</span></span>
<span id="cb82-8"><a href="#cb82-8" aria-hidden="true" tabindex="-1"></a>mean_reactive_cdc</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.4762291</code></pre>
</div>
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>mean_non_reactive_cdc</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -0.7327059</code></pre>
</div>
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="co"># sd of In-House CDC ELISA S/T Values (Log10) for "Reactive" In-House CDC ELISA Reactivity</span></span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a>sd_reactive_cdc <span class="ot">&lt;-</span> <span class="fu">sd</span>(covid_mini<span class="sc">$</span><span class="st">`</span><span class="at">In-House CDC ELISA S/T Values (Log10)</span><span class="st">`</span>[covid_mini<span class="sc">$</span><span class="st">`</span><span class="at">In-House CDC ELISA Reactivity</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Reactive"</span>])</span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a><span class="co"># sd of In-House CDC ELISA S/T Values (Log10) for "Non-reactive" In-House CDC ELISA Reactivity</span></span>
<span id="cb86-5"><a href="#cb86-5" aria-hidden="true" tabindex="-1"></a>sd_non_reactive_cdc <span class="ot">&lt;-</span> <span class="fu">sd</span>(covid_mini<span class="sc">$</span><span class="st">`</span><span class="at">In-House CDC ELISA S/T Values (Log10)</span><span class="st">`</span>[covid_mini<span class="sc">$</span><span class="st">`</span><span class="at">In-House CDC ELISA Reactivity</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Non-reactive"</span>])</span>
<span id="cb86-6"><a href="#cb86-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-7"><a href="#cb86-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Output the results</span></span>
<span id="cb86-8"><a href="#cb86-8" aria-hidden="true" tabindex="-1"></a>sd_reactive_cdc</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.1244573</code></pre>
</div>
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>sd_non_reactive_cdc</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.3102606</code></pre>
</div>
</div>
</section>
<section id="generating-synthetic-dataset" class="level2">
<h2 class="anchored" data-anchor-id="generating-synthetic-dataset">Generating Synthetic Dataset</h2>
<p>Next, I will set a seed for reproducibility and specify 204 as the number of observations.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Setting seed for reproducibility</span></span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>) </span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Define number of observations </span></span>
<span id="cb90-4"><a href="#cb90-4" aria-hidden="true" tabindex="-1"></a>n_obs <span class="ot">&lt;-</span> <span class="dv">204</span> <span class="co"># same as original dataset</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>I will now create the synthetic dataset. I will use the notes I took from Module 4B: Synthetic Data to help with this. Throughout the process of creating this dataset, I ran into a few errors which I sent through ChatGPT to obtain help.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Creation of empty data frame with placeholders for variables</span></span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>covid_synthetic <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">pcr =</span> <span class="fu">character</span>(n_obs), </span>
<span id="cb91-4"><a href="#cb91-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">abbott =</span> <span class="fu">character</span>(n_obs),</span>
<span id="cb91-5"><a href="#cb91-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">cdc =</span> <span class="fu">character</span>(n_obs),</span>
<span id="cb91-6"><a href="#cb91-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">Abbott_S_C_Values_Log10 =</span> <span class="fu">numeric</span>(n_obs),</span>
<span id="cb91-7"><a href="#cb91-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">In_House_CDC_ELISA_S_T_Values_Log10 =</span> <span class="fu">numeric</span>(n_obs)</span>
<span id="cb91-8"><a href="#cb91-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb91-9"><a href="#cb91-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-10"><a href="#cb91-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Variable 1: pcr</span></span>
<span id="cb91-11"><a href="#cb91-11" aria-hidden="true" tabindex="-1"></a>covid_synthetic<span class="sc">$</span>pcr <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="st">"Pos"</span>, <span class="st">"Neg"</span>), n_obs, <span class="at">replace =</span> <span class="cn">TRUE</span>, <span class="at">prob =</span> <span class="fu">c</span>(<span class="fl">0.43</span>, <span class="fl">0.57</span>)) <span class="co"># probabilities created from counts line above (87/204 pos; 117/204 neg)</span></span>
<span id="cb91-12"><a href="#cb91-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-13"><a href="#cb91-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Variable 2: abbott</span></span>
<span id="cb91-14"><a href="#cb91-14" aria-hidden="true" tabindex="-1"></a>covid_synthetic<span class="sc">$</span>abbott <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="st">"Reactive"</span>, <span class="st">"Non-reactive"</span>), n_obs, <span class="at">replace =</span> <span class="cn">TRUE</span>, <span class="at">prob =</span> <span class="fu">c</span>(<span class="fl">0.41</span>, <span class="fl">0.59</span>)) <span class="co"># probabilities created from counts line above (84/204 reactive; 120/204 non-reactive)</span></span>
<span id="cb91-15"><a href="#cb91-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-16"><a href="#cb91-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Variable 3: cdc</span></span>
<span id="cb91-17"><a href="#cb91-17" aria-hidden="true" tabindex="-1"></a>covid_synthetic<span class="sc">$</span>cdc <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="st">"Reactive"</span>, <span class="st">"Non-reactive"</span>), n_obs, <span class="at">replace =</span> <span class="cn">TRUE</span>, <span class="at">prob =</span> <span class="fu">c</span>(<span class="fl">0.42</span>, <span class="fl">0.58</span>)) <span class="co"># probabilities created from counts line above (86/204 reactive; 118/204 non-reactive)</span></span>
<span id="cb91-18"><a href="#cb91-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-19"><a href="#cb91-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Variable 4: Abbott_S_C_Values_Log10</span></span>
<span id="cb91-20"><a href="#cb91-20" aria-hidden="true" tabindex="-1"></a>covid_synthetic<span class="sc">$</span>Abbott_S_C_Values_Log10 <span class="ot">&lt;-</span> <span class="fu">unlist</span>(<span class="fu">sapply</span>(covid_synthetic<span class="sc">$</span>abbott, <span class="cf">function</span>(reactivity) {</span>
<span id="cb91-21"><a href="#cb91-21" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (reactivity <span class="sc">==</span> <span class="st">"Reactive"</span>) {</span>
<span id="cb91-22"><a href="#cb91-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rnorm</span>(<span class="dv">1</span>, <span class="at">mean =</span> <span class="fl">0.6649786</span>, <span class="at">sd =</span> <span class="fl">0.1746322</span>) <span class="co"># Mean and sd for Reactive (calculated above)</span></span>
<span id="cb91-23"><a href="#cb91-23" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb91-24"><a href="#cb91-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rnorm</span>(<span class="dv">1</span>, <span class="at">mean =</span> <span class="sc">-</span><span class="fl">0.7746825</span>, <span class="at">sd =</span> <span class="fl">0.3248742</span>) <span class="co"># Mean and sd for Non-reactive (calculated above)</span></span>
<span id="cb91-25"><a href="#cb91-25" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb91-26"><a href="#cb91-26" aria-hidden="true" tabindex="-1"></a>}))</span>
<span id="cb91-27"><a href="#cb91-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-28"><a href="#cb91-28" aria-hidden="true" tabindex="-1"></a><span class="do">## ChatGPT Prompt: # Variable 4: Abbott_S_C_Values_Log10   covid_synthetic$Abbott_S_C_Values_Log10 &lt;- rnorm(n_obs, mean = -0.1818809, sd = 0.76081) # mean (-0.1818809) and sd (0.76081) based on original data --- fix this so it shows the mean for reactive (0.6649786) and non-reactive (-0.7746825)</span></span>
<span id="cb91-29"><a href="#cb91-29" aria-hidden="true" tabindex="-1"></a><span class="do">## Error in $&lt;-.data.frame(*tmp*, Abbott_S_C_Values_Log10, value = list()) : replacement has 0 rows, data has 204. Please help fix this.</span></span>
<span id="cb91-30"><a href="#cb91-30" aria-hidden="true" tabindex="-1"></a><span class="do">### I used information from the output of this prompt to fix Variable 5 as well. </span></span>
<span id="cb91-31"><a href="#cb91-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-32"><a href="#cb91-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Variable 5: In_House_CDC_ELISA_S_T_Values_Log10</span></span>
<span id="cb91-33"><a href="#cb91-33" aria-hidden="true" tabindex="-1"></a>covid_synthetic<span class="sc">$</span>In_House_CDC_ELISA_S_T_Values_Log10 <span class="ot">&lt;-</span> <span class="fu">unlist</span>(<span class="fu">sapply</span>(covid_synthetic<span class="sc">$</span>cdc, <span class="cf">function</span>(reactivity) {</span>
<span id="cb91-34"><a href="#cb91-34" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (reactivity <span class="sc">==</span> <span class="st">"Reactive"</span>) {</span>
<span id="cb91-35"><a href="#cb91-35" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rnorm</span>(<span class="dv">1</span>, <span class="at">mean =</span> <span class="fl">0.4762291</span>, <span class="at">sd =</span> <span class="fl">0.1244573</span>) <span class="co"># Mean and sd for Reactive (calculated above)</span></span>
<span id="cb91-36"><a href="#cb91-36" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb91-37"><a href="#cb91-37" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rnorm</span>(<span class="dv">1</span>, <span class="at">mean =</span> <span class="sc">-</span><span class="fl">0.7327059</span>, <span class="at">sd =</span> <span class="fl">0.3102606</span>) <span class="co"># Mean and sd for Non-reactive (calculated above)</span></span>
<span id="cb91-38"><a href="#cb91-38" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb91-39"><a href="#cb91-39" aria-hidden="true" tabindex="-1"></a>}))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="assessing-correlations-from-the-synthetic-dataset" class="level2">
<h2 class="anchored" data-anchor-id="assessing-correlations-from-the-synthetic-dataset">Assessing Correlations from the Synthetic Dataset</h2>
<p>I will create a correlation matrix to visualize the relationships between the variables in the original dataset.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Using numerical values for the categorical variables</span></span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a>covid_numeric_synthetic <span class="ot">&lt;-</span> covid_synthetic <span class="sc">%&gt;%</span></span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb92-4"><a href="#cb92-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">pcr =</span> <span class="fu">ifelse</span>(<span class="st">`</span><span class="at">pcr</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Pos"</span>, <span class="dv">1</span>, <span class="dv">0</span>),</span>
<span id="cb92-5"><a href="#cb92-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">abbott =</span> <span class="fu">ifelse</span>(<span class="st">`</span><span class="at">abbott</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Reactive"</span>, <span class="dv">1</span>, <span class="dv">0</span>),</span>
<span id="cb92-6"><a href="#cb92-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">cdc =</span> <span class="fu">ifelse</span>(<span class="st">`</span><span class="at">cdc</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Reactive"</span>, <span class="dv">1</span>, <span class="dv">0</span>)</span>
<span id="cb92-7"><a href="#cb92-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb92-8"><a href="#cb92-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(pcr, abbott, cdc)</span>
<span id="cb92-9"><a href="#cb92-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-10"><a href="#cb92-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute correlation matrix</span></span>
<span id="cb92-11"><a href="#cb92-11" aria-hidden="true" tabindex="-1"></a>cor_matrix_synthetic <span class="ot">&lt;-</span> <span class="fu">cor</span>(covid_numeric, <span class="at">method =</span> <span class="st">"pearson"</span>)  </span>
<span id="cb92-12"><a href="#cb92-12" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cor_matrix_synthetic)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>             pcr    abbott       cdc
pcr    1.0000000 0.9501076 0.9498707
abbott 0.9501076 1.0000000 0.9598630
cdc    0.9498707 0.9598630 1.0000000</code></pre>
</div>
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualize correlation matrix</span></span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(corrplot)</span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a><span class="fu">corrplot</span>(cor_matrix_synthetic, <span class="at">method =</span> <span class="st">"color"</span>, <span class="at">col =</span> <span class="fu">colorRampPalette</span>(<span class="fu">c</span>(<span class="st">"red"</span>, <span class="st">"white"</span>, <span class="st">"blue"</span>))(<span class="dv">200</span>),</span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">addCoef.col =</span> <span class="st">"black"</span>, <span class="at">tl.col =</span> <span class="st">"black"</span>, <span class="at">tl.cex =</span> <span class="dv">1</span>, <span class="at">number.cex =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="cdcdata-exercise_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The correlation matrix above shows that the correlation coefficients dervied from the synthetic dataset variables appear to be identical to those of the original dataset. This suggests that the synthetic dataset is a good representation of the original dataset.</p>
</section>
<section id="exploratory-tables---categorical-variables-1" class="level2">
<h2 class="anchored" data-anchor-id="exploratory-tables---categorical-variables-1">Exploratory tables - categorical variables</h2>
<p>Now, I will use Rayleen’s code to explore the synthetic dataset’s categorical variables.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Frequency of PCR status</span></span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a><span class="fu">proc_freq</span>(<span class="at">data =</span> covid_synthetic, <span class="at">tables =</span> <span class="st">`</span><span class="at">pcr</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  VAR CAT   N CNT      PCT
1 pcr Neg 204 116 56.86275
2 pcr Pos 204  88 43.13725</code></pre>
</div>
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Frequency of Abbott Reactivity</span></span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a><span class="fu">proc_freq</span>(<span class="at">data =</span> covid_synthetic, <span class="at">tables =</span> <span class="st">`</span><span class="at">abbott</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     VAR          CAT   N CNT      PCT
1 abbott Non-reactive 204 124 60.78431
2 abbott     Reactive 204  80 39.21569</code></pre>
</div>
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Frequency of In-House CDC ELISA Reactivity</span></span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a><span class="fu">proc_freq</span>(<span class="at">data =</span> covid_synthetic, <span class="at">tables =</span> <span class="st">`</span><span class="at">cdc</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  VAR          CAT   N CNT      PCT
1 cdc Non-reactive 204 119 58.33333
2 cdc     Reactive 204  85 41.66667</code></pre>
</div>
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Cross tab of each of the categorical variables</span></span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a><span class="fu">proc_freq</span>(<span class="at">data =</span> renames, <span class="at">tables =</span> <span class="fu">v</span>(pcr <span class="sc">*</span> cdc, pcr <span class="sc">*</span> abbott, cdc <span class="sc">*</span> abbott))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$`pcr * cdc`
# A tibble: 4 × 7
  VAR1  VAR2  CAT1  CAT2             N   CNT    PCT
  &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;        &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;
1 pcr   cdc   Neg   Non-reactive   204   115 56.4  
2 pcr   cdc   Neg   Reactive       204     2  0.980
3 pcr   cdc   Pos   Non-reactive   204     3  1.47 
4 pcr   cdc   Pos   Reactive       204    84 41.2  

$`pcr * abbott`
# A tibble: 4 × 7
  VAR1  VAR2   CAT1  CAT2             N   CNT    PCT
  &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;        &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;
1 pcr   abbott Neg   Non-reactive   204   116 56.9  
2 pcr   abbott Neg   Reactive       204     1  0.490
3 pcr   abbott Pos   Non-reactive   204     4  1.96 
4 pcr   abbott Pos   Reactive       204    83 40.7  

$`cdc * abbott`
# A tibble: 4 × 7
  VAR1  VAR2   CAT1         CAT2             N   CNT    PCT
  &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;        &lt;chr&gt;        &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;
1 cdc   abbott Non-reactive Non-reactive   204   117 57.4  
2 cdc   abbott Non-reactive Reactive       204     1  0.490
3 cdc   abbott Reactive     Non-reactive   204     3  1.47 
4 cdc   abbott Reactive     Reactive       204    83 40.7  </code></pre>
</div>
</div>
</section>
<section id="exploratory-anaylses---continuous-variables-1" class="level2">
<h2 class="anchored" data-anchor-id="exploratory-anaylses---continuous-variables-1">Exploratory anaylses - continuous variables</h2>
<p>Now, I will use Rayleen’s code to explore the synthetic dataset’s continuous variables.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Producing a table showing the sample size, mean, standard deviation, min, and max for each continuous variable</span></span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a><span class="co">#Also creating a figure of each variable</span></span>
<span id="cb103-3"><a href="#cb103-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-4"><a href="#cb103-4" aria-hidden="true" tabindex="-1"></a><span class="co">#Overall stats - Abbott</span></span>
<span id="cb103-5"><a href="#cb103-5" aria-hidden="true" tabindex="-1"></a><span class="fu">proc_means</span>(<span class="at">data =</span> covid_synthetic, <span class="st">`</span><span class="at">Abbott_S_C_Values_Log10</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  TYPE FREQ                     VAR   N       MEAN      STD       MIN       MAX
1    0  204 Abbott_S_C_Values_Log10 204 -0.1952212 0.739211 -1.639148 0.9660903</code></pre>
</div>
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Stats by seroreactivity status - Abbott</span></span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a><span class="fu">proc_means</span>(<span class="at">data =</span> covid_synthetic, <span class="st">`</span><span class="at">Abbott_S_C_Values_Log10</span><span class="st">`</span>, <span class="at">by =</span> <span class="st">`</span><span class="at">abbott</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>            BY TYPE FREQ                     VAR   N       MEAN       STD
1 Non-reactive    0  124 Abbott_S_C_Values_Log10 124 -0.7406296 0.3458298
2     Reactive    0   80 Abbott_S_C_Values_Log10  80  0.6501619 0.1651686
         MIN        MAX
1 -1.6391477 0.06071791
2  0.2764241 0.96609031</code></pre>
</div>
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(covid_synthetic, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">Abbott_S_C_Values_Log10</span><span class="st">`</span>, <span class="at">fill =</span> <span class="st">`</span><span class="at">abbott</span><span class="st">`</span>, <span class="at">color =</span> <span class="st">`</span><span class="at">abbott</span><span class="st">`</span>)) <span class="sc">+</span></span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">y =</span> ..density..), <span class="at">bins =</span> <span class="dv">50</span>) <span class="sc">+</span></span>
<span id="cb107-3"><a href="#cb107-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb107-4"><a href="#cb107-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Non-reactive"</span> <span class="ot">=</span> <span class="st">"maroon"</span>, <span class="st">"Reactive"</span> <span class="ot">=</span> <span class="st">"black"</span>)) <span class="sc">+</span></span>
<span id="cb107-5"><a href="#cb107-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Histogram with Kernel Density Overlay"</span>,</span>
<span id="cb107-6"><a href="#cb107-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Value"</span>,</span>
<span id="cb107-7"><a href="#cb107-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Density"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="cdcdata-exercise_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Overall stats - CDC</span></span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a><span class="fu">proc_means</span>(<span class="at">data =</span> covid_synthetic, <span class="st">`</span><span class="at">In_House_CDC_ELISA_S_T_Values_Log10</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  TYPE FREQ                                 VAR   N       MEAN       STD
1    0  204 In_House_CDC_ELISA_S_T_Values_Log10 204 -0.2404068 0.6352775
        MIN       MAX
1 -1.604468 0.7786885</code></pre>
</div>
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Stats by seroreactivity status - CDC</span></span>
<span id="cb110-2"><a href="#cb110-2" aria-hidden="true" tabindex="-1"></a><span class="fu">proc_means</span>(<span class="at">data =</span> covid_synthetic, <span class="st">`</span><span class="at">In_House_CDC_ELISA_S_T_Values_Log10</span><span class="st">`</span>, <span class="at">by =</span> <span class="st">`</span><span class="at">cdc</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>            BY TYPE FREQ                                 VAR   N       MEAN
1 Non-reactive    0  119 In_House_CDC_ELISA_S_T_Values_Log10 119 -0.7349032
2     Reactive    0   85 In_House_CDC_ELISA_S_T_Values_Log10  85  0.4518882
        STD        MIN        MAX
1 0.3041904 -1.6044683 0.02993342
2 0.1180522  0.1963183 0.77868855</code></pre>
</div>
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(covid_synthetic, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">In_House_CDC_ELISA_S_T_Values_Log10</span><span class="st">`</span>, <span class="at">fill =</span> <span class="st">`</span><span class="at">cdc</span><span class="st">`</span>, <span class="at">color =</span> <span class="st">`</span><span class="at">cdc</span><span class="st">`</span>)) <span class="sc">+</span></span>
<span id="cb112-2"><a href="#cb112-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">y =</span> ..density..), <span class="at">bins =</span> <span class="dv">50</span>) <span class="sc">+</span></span>
<span id="cb112-3"><a href="#cb112-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb112-4"><a href="#cb112-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Non-reactive"</span> <span class="ot">=</span> <span class="st">"maroon"</span>, <span class="st">"Reactive"</span> <span class="ot">=</span> <span class="st">"black"</span>)) <span class="sc">+</span></span>
<span id="cb112-5"><a href="#cb112-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Histogram with Kernel Density Overlay"</span>,</span>
<span id="cb112-6"><a href="#cb112-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Value"</span>,</span>
<span id="cb112-7"><a href="#cb112-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Density"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="cdcdata-exercise_files/figure-html/unnamed-chunk-16-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Distribution of log titers by PCR status</span></span>
<span id="cb113-2"><a href="#cb113-2" aria-hidden="true" tabindex="-1"></a><span class="co">#Abbott</span></span>
<span id="cb113-3"><a href="#cb113-3" aria-hidden="true" tabindex="-1"></a><span class="co">#Stats by seroreactivity status - Abbott</span></span>
<span id="cb113-4"><a href="#cb113-4" aria-hidden="true" tabindex="-1"></a><span class="fu">proc_means</span>(<span class="at">data =</span> covid_synthetic, <span class="st">`</span><span class="at">Abbott_S_C_Values_Log10</span><span class="st">`</span>, <span class="at">by =</span> <span class="st">`</span><span class="at">pcr</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   BY TYPE FREQ                     VAR   N       MEAN       STD       MIN
1 Neg    0  116 Abbott_S_C_Values_Log10 116 -0.1411672 0.7662772 -1.633373
2 Pos    0   88 Abbott_S_C_Values_Log10  88 -0.2664741 0.6998718 -1.639148
        MAX
1 0.9660903
2 0.8807705</code></pre>
</div>
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(covid_synthetic, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">Abbott_S_C_Values_Log10</span><span class="st">`</span>, <span class="at">fill =</span> <span class="st">`</span><span class="at">pcr</span><span class="st">`</span>, <span class="at">color =</span> <span class="st">`</span><span class="at">pcr</span><span class="st">`</span>)) <span class="sc">+</span></span>
<span id="cb115-2"><a href="#cb115-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">y =</span> ..density..), <span class="at">bins =</span> <span class="dv">50</span>) <span class="sc">+</span></span>
<span id="cb115-3"><a href="#cb115-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb115-4"><a href="#cb115-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Neg"</span> <span class="ot">=</span> <span class="st">"maroon"</span>, <span class="st">"Pos"</span> <span class="ot">=</span> <span class="st">"black"</span>)) <span class="sc">+</span></span>
<span id="cb115-5"><a href="#cb115-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Histogram with Kernel Density Overlay"</span>,</span>
<span id="cb115-6"><a href="#cb115-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Value"</span>,</span>
<span id="cb115-7"><a href="#cb115-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Density"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="cdcdata-exercise_files/figure-html/unnamed-chunk-16-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="co">#CDC</span></span>
<span id="cb116-2"><a href="#cb116-2" aria-hidden="true" tabindex="-1"></a><span class="fu">proc_means</span>(<span class="at">data =</span> covid_synthetic, <span class="st">`</span><span class="at">In_House_CDC_ELISA_S_T_Values_Log10</span><span class="st">`</span>, <span class="at">by =</span> <span class="st">`</span><span class="at">pcr</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   BY TYPE FREQ                                 VAR   N       MEAN       STD
1 Neg    0  116 In_House_CDC_ELISA_S_T_Values_Log10 116 -0.2371385 0.6495497
2 Pos    0   88 In_House_CDC_ELISA_S_T_Values_Log10  88 -0.2447150 0.6196324
        MIN       MAX
1 -1.604468 0.7786885
2 -1.539911 0.5759087</code></pre>
</div>
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(covid_synthetic, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">In_House_CDC_ELISA_S_T_Values_Log10</span><span class="st">`</span>, <span class="at">fill =</span> <span class="st">`</span><span class="at">pcr</span><span class="st">`</span>, <span class="at">color =</span> <span class="st">`</span><span class="at">pcr</span><span class="st">`</span>)) <span class="sc">+</span></span>
<span id="cb118-2"><a href="#cb118-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">y =</span> ..density..), <span class="at">bins =</span> <span class="dv">50</span>) <span class="sc">+</span></span>
<span id="cb118-3"><a href="#cb118-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb118-4"><a href="#cb118-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Neg"</span> <span class="ot">=</span> <span class="st">"maroon"</span>, <span class="st">"Pos"</span> <span class="ot">=</span> <span class="st">"black"</span>)) <span class="sc">+</span></span>
<span id="cb118-5"><a href="#cb118-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Histogram with Kernel Density Overlay"</span>,</span>
<span id="cb118-6"><a href="#cb118-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Value"</span>,</span>
<span id="cb118-7"><a href="#cb118-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Density"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="cdcdata-exercise_files/figure-html/unnamed-chunk-16-4.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="comparison-of-the-original-and-synthetic-datasets" class="level2">
<h2 class="anchored" data-anchor-id="comparison-of-the-original-and-synthetic-datasets">Comparison of the Original and Synthetic datasets</h2>
<p>I will now compare the original and synthetic datasets. I ran the same exploratory analyses that Rayleen did for optimal comparison of the two datasets. The exploratory tables for the categorical variables are similar between the datasets. The counts and PCTs between each table from the original and synthetic datasets are very similar. The exploratory analyses for the continuous variables are also similar. The first two graphs created from the synthetic dataset are similar to those from the original dataset. Their distribution is similar in that the reactive group has a higher mean value and is much more steep than the non-reactive group. However, for the last two graphs, the distribution is different. The synthetic dataset graphs are bimodal and the reactive and non-reactive groups seem to overlap. There is minimal overlap present in the original graphs. The correlation matrices for the variables appear to be identical between the original and the synthetic datasets.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>